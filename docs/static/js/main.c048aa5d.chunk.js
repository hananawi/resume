(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},37:function(e,t,c){},39:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(26),r=c.n(s),i=c(6),o=(c(33),c(34),c(3));c(35);var l=function(){document.querySelector(".animated-button").addEventListener("click",(function(){document.querySelector("section nav").classList.toggle("active")}))},d=c(0);var j=function(){return Object(n.useEffect)((function(){l()}),[]),Object(d.jsx)("section",{className:"animated-navigation",children:Object(d.jsxs)("nav",{children:[Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/#",children:"Home"})},"home"),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/#",children:"Works"})},"works"),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/#",children:"About"})},"about"),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/#",children:"Contact"})},"contact")]}),Object(d.jsxs)("button",{className:"animated-button",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})]})})};var u=function(){var e=document.querySelector(".tags");document.querySelector("textarea").addEventListener("keyup",(function(t){var c;c=(c=t.target.value).split(",").filter((function(e){return""!==e.trim()})).map((function(e){return e.trim()})),e.innerHTML="",c.forEach((function(t){var c=document.createElement("span");c.innerText=t,c.classList.add("tag"),e.appendChild(c)})),"Enter"===t.key&&(t.target.value=t.target.value.slice(0,t.target.value.length-1),function(){var t=30;setTimeout((function c(n){if(!(--t<=0)){var a=e.children.length;e.children[n].classList.remove("active"),n=Math.floor(Math.random()*a),e.children[n].classList.add("active"),setTimeout(c,200,n)}}),200,0)}())}))};c(37);var b=function(){return Object(n.useEffect)((function(){u()}),[]),Object(d.jsxs)("section",{className:"random-choice-picker",children:[Object(d.jsx)("h3",{children:"Enter all of the choices divided by a comma (','). Press enter when you're done"}),Object(d.jsx)("textarea",{placeholder:"enter choices here..."}),Object(d.jsx)("div",{className:"tags"})]})},m=c(15),h=c.n(m),f=c(27),O=c(2);c(39);function x(e){var t=Object(n.useState)(!1),c=Object(O.a)(t,2),a=c[0],s=c[1];a||(e(),s(!0))}function v(e){return new Promise((function(t){setTimeout(t,1e3*e)}))}function p(e){return Object(d.jsxs)("section",{className:"movie-info",children:[e.imgSrc?Object(d.jsx)("div",{className:"movie-img",style:{backgroundImage:"url(".concat(e.imgSrc,")")}}):Object(d.jsx)("div",{className:"movie-img loading"}),Object(d.jsxs)("div",{className:"movie-title-wrapper",children:[e.title?Object(d.jsx)("h2",{className:"movie-title",children:e.title}):Object(d.jsx)("div",{className:" movie-title loading"}),e.point?Object(d.jsx)("div",{className:"movie-point",style:{color:e.point>7.5?"#2ed573":e.point>6?"#ffa502":"#d63031"},children:e.point}):Object(d.jsx)("div",{className:"movie-point loading"})]}),e.overview?Object(d.jsxs)("div",{className:"movie-overview",children:[Object(d.jsx)("h4",{children:"Overview"}),e.overview]}):Object(d.jsx)("div",{className:"movie-overview loading",children:Object(d.jsx)("h4",{children:"Overview"})})]})}var g=function(){var e=Object(n.useState)([{},{},{}]),t=Object(O.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(O.a)(s,2),i=r[0],o=r[1];function l(){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getMovieData executed!"),t=fetch("https://api.themoviedb.org/4/list/1",{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNTAzM2M1YTI5N2I2YzgwNDQyMmUyZDgxNzJmZjEyOCIsInN1YiI6IjYwNjFiMjJjOGYyNmJjMDA3NzZhY2Q3ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.J6xu3bREP8VIXBcUxQlhlaaG7F42Se8UZfnokLKKRkA","Content-Type":"application/json;charset=utf-8"}}),e.abrupt("return",Promise.all([t,v(2)]).then((function(e){if((e=e[0]).ok)return e.json();throw new Error("Network response was not ok.")})).then((function(e){return a(e.results),e.results})).catch((function(e){console.log("There has been a problem with your fetch operation: ",e.message)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){l()}),[]),Object(d.jsxs)("div",{className:"movie-app",children:[Object(d.jsx)("header",{}),Object(d.jsx)("nav",{className:"nav-bar",children:Object(d.jsx)("form",{className:"search-wrapper",onSubmit:function(e){e.preventDefault(),a([{},{},{}]),l().then((function(e){var t=[];e.forEach((function(e){e.title.toLowerCase().includes(i.toLowerCase())&&t.push(e)})),o(""),a(t)}))},children:Object(d.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",value:i,onChange:function(e){o(e.target.value)}})})}),Object(d.jsx)("main",{className:"movie-container",children:c.map((function(e,t){return Object(d.jsx)(p,{imgSrc:e.backdrop_path?"https://image.tmdb.org/t/p/w1280/".concat(e.backdrop_path):void 0,title:e.title,point:e.vote_average,overview:e.overview},e.title?e.title:t)}))}),Object(d.jsx)("footer",{})]})},N=c(7),y=c.n(N);c(58);var k=function(){return Object(d.jsxs)("header",{className:"app-header",children:[Object(d.jsx)("h2",{children:"music-web-app"}),Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)("i",{className:"fas fa-angle-left"}),Object(d.jsx)("i",{className:"fas fa-angle-right"}),Object(d.jsxs)("form",{method:"get",action:"#",children:[Object(d.jsx)("i",{className:"fas fa-search"}),Object(d.jsx)("input",{type:"text"})]})]}),Object(d.jsxs)("div",{className:"user-login",children:[Object(d.jsx)("i",{className:"fas fa-user"}),Object(d.jsx)("div",{children:"\u672a\u767b\u5f55"}),Object(d.jsx)("div",{children:"\u5f00\u901aVIP"}),Object(d.jsx)("i",{className:"fas fa-cog"}),Object(d.jsx)("i",{className:"fas fa-tshirt"}),Object(d.jsx)("i",{className:"fas fa-envelope"}),Object(d.jsx)("div",{className:"minimize-button"}),Object(d.jsx)("div",{className:"maximize-button"}),Object(d.jsx)("div",{className:"exit-button"})]})]})},w=(c(59),c(60),null),L=null,S=null,C=0,I=0,E=[0,1,2],D=!1,T=!1;var F=function(e){var t=Object(n.useState)([]),c=Object(O.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(O.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)({}),u=Object(O.a)(j,2),b=u[0],m=u[1],h=Object(n.useState)(""),f=Object(O.a)(h,2),x=f[0],v=f[1];function p(){var e=w[E[0]],t=w[E[1]],c=w[E[2]];e.classList.remove("prev"),t.style["z-index"]=5,t.classList.replace("cur","prev"),c.style["z-index"]=5,c.classList.replace("next","cur"),E=E.map((function(e){return e===a.length-1?0:e+1})),w[E[2]].style["z-index"]=-1,w[E[2]].classList.add("next"),L[C].classList.remove("current"),console.log(E,a.length),C===a.length-1?C=0:C++,L[C].classList.add("current")}function g(e){clearInterval(I);var t=w[E[0]],c=w[E[1]],n=w[E[2]];"prev"===e?(n.classList.remove("next"),t.style["z-index"]=5,t.classList.replace("prev","cur"),c.style["z-index"]=5,c.classList.replace("cur","next"),E=E.map((function(e){return 0===e?a.length-1:e-1})),w[E[0]].style["z-index"]=-1,w[E[0]].classList.add("prev"),L[C].classList.remove("current"),0===C?C=a.length-1:C--,L[C].classList.add("current")):"next"===e&&p(),I=setInterval(p,2e3)}return Object(n.useEffect)((function(){y.a.get("/homepage/block/page",{proxy:{protocol:"http",host:"localhost",port:5e3}}).then((function(e){return e.data.data})).then((function(e){s(e.blocks[0].extInfo.banners.map((function(e){return e.pic})))})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){w=document.querySelectorAll(".carousel .pic-wrapper img"),L=document.querySelectorAll(".carousel .indicators ul li"),S=document.querySelector(".audio-player"),L[0]&&L[0].classList.add("current"),clearInterval(I),I=setInterval(p,2e3)}),[a]),Object(n.useEffect)((function(){!function(e){if(!e)return;var t=0,c={},n=[];for(;t<9;){var a=Math.floor(Math.random()*e.length);c[a]||(c[a]=!0,t++,n.push(e[a]))}l(n)}(e.myTracks)}),[e.myTracks]),Object(n.useEffect)((function(){o.forEach((function(e){y.a.get("/song/url?id=".concat(e.id)).then((function(e){return console.log(e),e.data.data})).then((function(t){m((function(c){var n=Object.assign({},c);return n[e.id]=t[0].url,n}))})).catch((function(e){console.log(e)}))}))}),[o]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"carousel",children:[Object(d.jsx)("i",{className:"fas fa-angle-left",onClick:function(){return g("prev")}}),Object(d.jsx)("div",{className:"pic-wrapper",children:a.map((function(e,t){return Object(d.jsx)("img",{src:e,alt:"loaded error:(",className:0===t?"prev":1===t?"cur":2===t?"next":""},e)}))}),Object(d.jsx)("i",{className:"fas fa-angle-right",onClick:function(){return g("next")}}),Object(d.jsx)("div",{className:"indicators",children:Object(d.jsx)("ul",{children:a.map((function(e,t){return Object(d.jsx)("li",{onClick:function(){}},e)}))})})]}),Object(d.jsxs)("div",{className:"recommend-music",children:[Object(d.jsx)("div",{className:"music-cards",children:o.map((function(e,t){return Object(d.jsxs)("div",{className:"music-card",children:[Object(d.jsx)("img",{className:"track-cover-img",src:e.al.picUrl,alt:"loading error:(",onClick:function(){return function(e){console.log(1,b[o[e].id]),v(b[o[e].id]),D&&C===e||(S.load(),D=!0,C=e,T=!1),T?(S.pause(),T=!1):(S.play(),T=!0)}(t)}}),Object(d.jsx)("h5",{className:"track-title",children:e.name}),Object(d.jsx)("h6",{className:"track-detail",children:e.ar.map((function(e){return e.name})).join("/")+" - "+e.al.name})]},e.name)}))}),Object(d.jsx)("audio",{className:"audio-player",controls:!0,children:Object(d.jsx)("source",{src:x})})]})]})};var R=function(e){var t=Object(o.f)(),c=t.url,n=t.path;return Object(d.jsxs)("div",{children:[Object(d.jsx)("nav",{className:"nav-bar",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"".concat(c,"/recommend"),children:"\u4e2a\u6027\u63a8\u8350"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/#",children:"\u4e2a\u6027\u63a8\u8350"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/",children:"\u4e2a\u6027\u63a8\u8350"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/#",children:"\u4e2a\u6027\u63a8\u8350"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/",children:"\u4e2a\u6027\u63a8\u8350"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/#",children:"\u4e2a\u6027\u63a8\u8350"})})]})}),Object(d.jsx)(o.c,{children:Object(d.jsx)(o.a,{path:"".concat(n,"/recommend"),children:Object(d.jsx)(F,{myTracks:e.myTracks})})})]})},q=(c(69),{display:"flex",alignItems:"stretch",minHeight:"calc(100vh - 5rem)"});var P=function(e){var t=Object(o.f)(),c=t.url,n=t.path;return Object(d.jsxs)("div",{style:q,children:[Object(d.jsx)("aside",{className:"aside-menu",children:Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"".concat(c,"/discovermusic"),children:"\u53d1\u73b0\u97f3\u4e50"})})})}),Object(d.jsx)("div",{className:"main-content",children:Object(d.jsx)(o.c,{children:Object(d.jsx)(o.a,{path:"".concat(n,"/discovermusic"),children:Object(d.jsx)(R,{myTracks:e.myTracks})})})})]})};var z=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),c=t[0],a=t[1];return x((function(){y.a.get("/playlist/detail?id=3029447016").then((function(e){return e.data})).then((function(e){return a(e.playlist.tracks),e.playlist.tracks})).catch((function(e){console.log(e)}))})),Object(d.jsxs)("div",{children:[Object(d.jsx)(k,{}),Object(d.jsx)(P,{myTracks:c})]})};c(70);function J(e){e.labels.forEach((function(e){e.innerHTML=e.innerHTML.split("").map((function(e,t){return'<span style="transition-delay: '.concat(.05*t,'s;">').concat(e,"</span>")})).join("")}))}c.p;var _=a.a.forwardRef((function(e,t){return Object(d.jsx)("div",{className:"popup-window",ref:t,onClick:function(e){e.stopPropagation()},children:e.children})})),M=a.a.forwardRef((function(e,t){var c=Object(n.useState)(""),a=Object(O.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),o=Object(O.a)(i,2),l=o[0],j=o[1],u=Object(n.useRef)([]);return Object(n.useEffect)((function(){J({labels:u.current})}),[]),Object(n.useEffect)((function(){r(""),j("")}),[e.isLogin]),Object(d.jsx)(_,{ref:t,children:Object(d.jsxs)("form",{className:"login-form animated-form",children:[Object(d.jsxs)("div",{className:"form-control label-float",children:[Object(d.jsx)("input",{type:"text",id:"username",name:"username",required:!0,autoComplete:"off",value:s,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("label",{ref:function(e){return u.current[0]=e},htmlFor:"username",children:"username"})]}),Object(d.jsxs)("div",{className:"form-control label-float",children:[Object(d.jsx)("input",{type:"text",id:"password",name:"password",required:!0,autoComplete:"off",value:l,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("label",{ref:function(e){return u.current[1]=e},htmlFor:"password",children:"password"})]}),Object(d.jsx)("button",{type:"submit",onClick:function(c){c.preventDefault(),s&&l?e.isLogin?y.a.post("/database/login",{username:s,password:l}).then((function(e){return e.data})).then((function(n){if(!n.sender_name)throw Error("user don't exist");e.setUserInfo({senderID:n.sender_id,senderName:n.sender_name,avatarUrl:"".concat("","/logo192.png")}),e.togglePopupWindow(c,t),e.createSnackbar("login successfully!"),r(""),j("")})).catch((function(t){console.log(t),e.createSnackbar("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","error"),j("")})):y.a.post("/database/register",{username:s,password:l}).then((function(e){return console.log(e),e.data})).then((function(n){e.togglePopupWindow(c,t),e.createSnackbar("\u6ce8\u518c\u6210\u529f"),r(""),j("")})).catch((function(e){console.log(e)})):e.createSnackbar("\u8bf7\u586b\u5b8c\u6240\u6709\u8868\u5355\u4fe1\u606f","error")},children:e.isLogin?"Login":"Register"}),e.isLogin?Object(d.jsxs)("div",{className:"text",children:["Don't have an account?",Object(d.jsx)("span",{onClick:function(){return e.setIsLogin(!1)},children:" Register"})]}):Object(d.jsxs)("div",{className:"text",children:["Already have an account?",Object(d.jsx)("span",{onClick:function(){return e.setIsLogin(!0)},children:" Login"})]})]})})})),A=a.a.forwardRef((function(e,t){var c=Object(n.useState)(""),a=Object(O.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),o=Object(O.a)(i,2),l=o[0],j=o[1],u=Object(n.useState)(""),b=Object(O.a)(u,2),m=b[0],h=b[1],f=Object(n.useState)(0),x=Object(O.a)(f,2),v=x[0],p=x[1],g=Object(n.useState)(""),N=Object(O.a)(g,2),k=N[0],w=N[1],L=Object(n.useRef)([]);return Object(n.useEffect)((function(){J({labels:L.current})}),[]),Object(d.jsx)(_,{ref:t,children:Object(d.jsxs)("form",{className:"send-form animated-form",children:[Object(d.jsxs)("div",{className:"form-control label-float",children:[Object(d.jsx)("input",{type:"text",id:"receiver",name:"receiver",required:!0,autoComplete:"off",value:s,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("label",{ref:function(e){return L.current[0]=e},htmlFor:"receiver",children:"\u6536\u4ef6\u4eba"})]}),Object(d.jsxs)("div",{className:"form-control label-float",children:[Object(d.jsx)("input",{type:"text",id:"goods",name:"goods",required:!0,autoComplete:"off",value:l,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("label",{ref:function(e){return L.current[1]=e},htmlFor:"goods",children:"\u8d27\u7269\u540d\u79f0"})]}),Object(d.jsxs)("fieldset",{className:"form-control radio-group",onChange:function(e){return h(e.target.value)},children:[Object(d.jsx)("legend",{children:"\u8d27\u7269\u7c7b\u578b"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{required:!0,type:"radio",id:"small",name:"goods_type",value:"small",checked:"small"===m,onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"small",children:"\u5c0f\u578b\u8d27\u7269"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",id:"medium",name:"goods_type",value:"medium",checked:"medium"===m,onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"medium",children:"\u4e2d\u578b\u8d27\u7269"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",id:"large",name:"goods_type",value:"large",checked:"large"===m,onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"large",children:"\u5927\u578b\u8d27\u7269"})]})]}),Object(d.jsxs)("fieldset",{className:"form-control radio-group",onChange:function(e){return w(e.target.value)},children:[Object(d.jsx)("legend",{children:"\u5feb\u9012\u7c7b\u578b"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",id:"normal",name:"express_type",value:"normal",checked:"normal"===k,onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"normal",children:"\u666e\u901a"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",id:"fast",name:"express_type",value:"fast",checked:"fast"===k,onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"fast",children:"\u5feb\u901f"})]})]}),Object(d.jsxs)("div",{className:"form-control number-input",children:[Object(d.jsx)("label",{htmlFor:"goods_weight",children:"\u8d27\u7269\u91cd\u91cf"}),Object(d.jsx)("input",{type:"number",id:"goods_weight",name:"goods_weight",value:v,onChange:function(e){return p(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"goods_weight",children:"kg"})]}),Object(d.jsx)("button",{type:"submit",onClick:function(c){c.preventDefault(),s&&l&&m&&v&&k?y.a.post("/database/api/sendGoods",{receiverName:s,goodsName:l,goodsType:m,goodsWeight:v,expressType:k}).then((function(e){return console.log(e),e.data})).then((function(n){e.getRecords(),e.togglePopupWindow(c,t),e.createSnackbar("send successfully!"),r(""),j(""),h(""),p(0),w("")})).catch((function(e){console.log(e)})):e.createSnackbar("\u8bf7\u586b\u5b8c\u6240\u6709\u8868\u5355\u4fe1\u606f","error")},children:"\u786e\u8ba4"})]})})}));function W(e){return Object(d.jsxs)("div",{className:"records",children:[Object(d.jsxs)("div",{className:"records-header",children:[Object(d.jsx)("div",{className:"header-item",children:"\u7269\u54c1\u540d"}),Object(d.jsx)("div",{className:"header-item",children:"\u6536\u4ef6\u4eba"}),Object(d.jsx)("div",{className:"header-item",children:"\u8fd0\u8f93\u72b6\u6001"}),Object(d.jsx)("div",{children:"\u8fd0\u8f93\u72b6\u6001"})]}),e.records.map((function(t,c){return Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("div",{className:"goods-name",children:t.goodsName}),Object(d.jsx)("div",{className:"receiver-name",children:t.receiverName}),Object(d.jsx)("div",{className:"transport-state",children:t.arriveTime?t.arriveTime:"\u6b63\u5728\u8fd0\u8f93"}),Object(d.jsx)("button",{onClick:function(){return e.showRecordDetail(t.expressID)},children:"\u67e5\u770b\u8be6\u60c5"})]},c)}))]})}function U(e){return Object(d.jsxs)("div",{className:"record-detail",children:[Object(d.jsxs)("div",{className:"record-nav",children:[Object(d.jsx)("div",{className:"record-button",children:Object(d.jsx)("button",{onClick:e.hiddenRecordDetail,children:"\u8fd4\u56de"})}),Object(d.jsxs)("div",{className:"record-info",children:[Object(d.jsxs)("div",{className:"express-id",children:["\u5feb\u9012\u5355\u53f7: ",e.detail.expressID]}),Object(d.jsxs)("div",{children:["\u5bc4\u4ef6\u4eba\uff1a",e.detail.data.senderName]}),Object(d.jsxs)("div",{children:["\u6536\u4ef6\u4eba\uff1a",e.detail.data.receiverName]}),Object(d.jsxs)("div",{children:["\u7269\u54c1\u540d\uff1a",Object(d.jsx)("span",{className:"goods-name",children:e.detail.data.goodsName})]}),Object(d.jsxs)("div",{children:["\u5feb\u9012\u7c7b\u578b\uff1a","normal"===e.detail.data.expressType?"\u666e\u901a":"\u5feb\u901f"]}),Object(d.jsxs)("div",{children:["\u8fd0\u8d39\uff1a",e.detail.data.expressPrice,"\u5143"]})]})]}),Object(d.jsx)("div",{className:"transport-flow"}),Object(d.jsx)("div",{className:"transport-details",children:e.detail.data.transports.map((function(t,c){return n="".concat(("00"+t.hour).slice(-2),": ").concat(("00"+t.minute).slice(-2)),a=t.month,s=t.date,r="\u4ece".concat(t.sendAddress,"\u51fa\u53d1\uff0c\n              ").concat(c===e.detail.data.transports.length-1?"\u6b63\u5728\u8fd0\u5f80":"\u5df2\u9001\u5230","\n              ").concat(t.receiveAddress),i=c,Object(d.jsxs)("div",{className:"transport-detail",children:[Object(d.jsxs)("div",{className:"transport-time",children:[Object(d.jsx)("div",{className:"time",children:n}),Object(d.jsxs)("div",{className:"date",children:[a,"-",s]})]}),i===e.detail.data.transports.length-1?Object(d.jsx)("i",{className:"fas fa-truck icon"}):Object(d.jsx)("i",{className:"fas fa-check-circle icon"}),Object(d.jsx)("div",{className:"info",children:r})]},i);var n,a,s,r,i}))})]})}var Z=function(){var e=Object(n.useState)(!0),t=Object(O.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(O.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),u=j[0],b=j[1],m=Object(n.useState)({}),h=Object(O.a)(m,2),f=h[0],v=h[1],p=Object(n.useState)(""),g=Object(O.a)(p,2),N=g[0],k=g[1],w=Object(n.useState)([]),L=Object(O.a)(w,2),S=L[0],C=L[1],I=Object(n.useState)({}),E=Object(O.a)(I,2),D=E[0],T=E[1],F=Object(n.useRef)(null),R=Object(n.useRef)(null),q=Object(n.useRef)(null),P=Object(n.useRef)(null),z=!1;function J(){y.a.get("/database/api/getRecords?senderID=".concat(f.senderID)).then((function(e){return e.data})).then((function(e){C(e),o(!1)})).catch((function(e){console.log(e)}))}function _(e){y.a.get("/database/api/getDetail?expressID=".concat(e)).then((function(e){return e.data})).then((function(t){T({expressID:e,data:t}),o(!0)})).catch((function(e){console.error(e),Z("\u8be5\u8ba2\u5355\u53f7\u4e0d\u5b58\u5728","error")}))}function Z(e,t){k(e),q.current.classList.add("active"),q.current.style.backgroundColor="error"===t?"#f44336":"#4caf50",setTimeout((function(){q.current.classList.remove("active")}),2e3)}x((function(){var e=document.cookie.split("; ").find((function(e){return e.startsWith("senderID")})),t=document.cookie.split("; ").find((function(e){return e.startsWith("senderName")}));t&&v({senderID:e.split("=")[1],senderName:t.split("=")[1],avatarUrl:"".concat("","/logo192.png")})})),Object(n.useEffect)((function(){var e;e={loginForm:F.current,sendForm:R.current},document.addEventListener("click",(function(){e.loginForm.classList.remove("active")})),document.addEventListener("click",(function(){e.sendForm.classList.remove("active")}))}),[]),Object(n.useEffect)((function(){f.senderID&&J()}),[f]);var Y=function(e,t){e.stopPropagation(),t.current.classList.toggle("active")};return Object(d.jsxs)("section",{className:"database-project",children:[Object(d.jsxs)("header",{children:[Object(d.jsxs)("nav",{className:"nav-bar",children:[f.senderName?Object(d.jsxs)("div",{className:"nav-item userinfo",onClick:function(){P.current.classList.toggle("active"),z=!z},children:[Object(d.jsx)("img",{src:f.avatarUrl,alt:"img error:(",height:"32",width:"32"}),f.senderName,Object(d.jsxs)("div",{className:"dropdown-menu",ref:P,children:[Object(d.jsx)("div",{className:"dropdown-item",children:"\u4e2a\u4eba\u4fe1\u606f"}),Object(d.jsx)("div",{className:"dropdown-item",onClick:function(){z&&(v({}),Z("logout successfully!"),document.cookie="senderID=;max-age=-1;path=/",document.cookie="senderName=;max-age=-1;path=/",z=!1)},children:"\u9000\u51fa\u767b\u5f55"})]})]}):Object(d.jsx)("button",{className:"login-button nav-item",onClick:function(e){Y(e,F),a(!0)},children:"Login"}),Object(d.jsx)("button",{className:"send-button nav-item",onClick:function(e){f.senderName?Y(e,R):Z("\u8bf7\u5148\u767b\u5f55","error")},children:"Send"})]}),Object(d.jsxs)("form",{className:"search-bar",onSubmit:function(e){e.preventDefault(),u?(_(Number(u)),b("")):Z("\u5feb\u9012\u5355\u53f7\u4e0d\u80fd\u4e3a\u7a7a","error")},children:[Object(d.jsxs)("div",{className:"search-input-wrapper",children:[Object(d.jsx)("input",{className:"search-input",placeholder:"\u5feb\u9012\u5355\u53f7",type:"search",value:u,onChange:function(e){b(e.target.value)}}),Object(d.jsx)("i",{className:"fas fa-trash-alt",onClick:function(e){b("")}})]}),Object(d.jsx)("button",{className:"search-button",type:"submit",children:"\u67e5\u8be2"})]})]}),Object(d.jsx)("main",{children:i?Object(d.jsx)(U,{hiddenRecordDetail:function(){o(!1)},detail:D}):f.senderName?Object(d.jsx)(W,{records:S,showRecordDetail:function(e){_(e)}}):Object(d.jsx)("div",{style:{textAlign:"center"},children:"\u767b\u9646\u540e\u53ef\u67e5\u770b\u8fd0\u8f93\u8bb0\u5f55"})}),Object(d.jsx)(M,{ref:F,setUserInfo:v,togglePopupWindow:Y,createSnackbar:Z,isLogin:c,setIsLogin:a}),Object(d.jsx)(A,{ref:R,togglePopupWindow:Y,createSnackbar:Z,getRecords:J}),Object(d.jsx)("div",{className:"snackbar",ref:q,children:N})]})};var Y=function(){Object(n.useEffect)((function(){!function(){var e=document.querySelector(".menu-icon"),t=document.querySelector(".catalog"),c=document.querySelector(".content-cover");e.addEventListener("click",(function(e){e.stopPropagation(),t.classList.toggle("hidden"),c.classList.toggle("active")}));var n=!1;document.body.addEventListener("click",(function(){n||(t.classList.add("hidden"),c.classList.remove("active")),n=!1})),t.addEventListener("click",(function(){n=!0}))}()}),[]);var e=["animated-navigation","random-choice-picker","movie-app","project","music-webapp"],t=[j,b,g,Z,z];return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"content-cover"}),Object(d.jsxs)("div",{className:"outer-box",children:[Object(d.jsx)("i",{className:"fas fa-bars menu-icon"}),Object(d.jsx)("aside",{className:"catalog hidden",children:Object(d.jsx)("ul",{children:e.map((function(e,t){return Object(d.jsx)("li",{onClick:function(){return e=t,void document.querySelectorAll(".catalog ul li a").forEach((function(t,c){t.style.color=c===e?"#7bed9f":"#fff"}));var e},children:Object(d.jsx)(i.b,{to:"/".concat(e),children:e})},e)}))})}),Object(d.jsx)("div",{className:"content-box full",children:Object(d.jsx)(o.c,{children:t.map((function(t,c){return Object(d.jsx)(o.a,{path:"/".concat(e[c]),children:a.a.createElement(t)},e[c])}))})})]})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,72)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Y,{})})}),document.getElementById("root")),B()}},[[71,1,2]]]);
//# sourceMappingURL=main.c048aa5d.chunk.js.map